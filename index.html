<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å‘†çŒ«ç¥è€å¤§ä»¬æ–°æ˜¥å¿«ä¹å–µ</title>
  <link rel="stylesheet" href="css/particle.css">
  <link rel="stylesheet" href="css/rotating.css">
  <link rel="stylesheet" href="css/scroll.css">
  <link rel="preload" href="audio/zhufu.mp3" as="audio">
  <link rel="preload" href="audio/rixi.mp3" as="audio">
  <link rel="preload" href="audio/hange.mp3" as="audio">
  <link rel="preload" href="audio/qinghuaci.mp3" as="audio">
  <link rel="preload" href="audio/DJ.mp3" as="audio">
  <link rel="preload" href="audio/jiefu.mp3" as="audio">
  <link rel="preload" href="audio/dianyin.mp3" as="audio">
  <link rel="preload" href="audio/chunjie.mp3" as="audio">
  <link rel="preload" href="audio/hajimi.mp3" as="audio">
  <link rel="preload" href="audio/shengdan.mp3" as="audio">
  <link rel="preload" href="audio/haha.mp3" as="audio">
  <link rel="preload" href="audio/beiliya.mp3" as="audio">
  <link rel="preload" href="images/daimao1.png" as="image">
  <link rel="preload" href="images/daimao2.png" as="image">
  <link rel="preload" href="images/daimao4.png" as="image">
  <style>
    /* çƒŸèŠ±åŠ¨ç”»éƒ¨åˆ†çš„æ ·å¼ */
    #fireworkSection {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      z-index: 1000;
      background: #000;
      transition: opacity 1s ease-out;
    }

    #fireworkSection.hidden {
      opacity: 0;
      pointer-events: none;
    }

    /* å³ä¸Šè§’å†…å®¹å®¹å™¨ - æ·»åŠ åˆ°çƒŸèŠ±éƒ¨åˆ† */
    .corner-content {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1001;
      opacity: 1;
      transition: opacity 1s ease-out;
    }

    /* éŸ³é¢‘æ’­æ”¾å™¨æ ·å¼ */
    .music-player {
      position: fixed;
      top: 20px;
      right: 20px;
      text-align: center;
      z-index: 1001;
    }

    /* æ’­æ”¾å™¨å›¾ç‰‡åŸºç¡€æ ·å¼ */
    .player-image {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 3px solid #005bb5;
      transition: transform 0.5s ease-out;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      object-fit: cover;
    }

    /* æ’­æ”¾çŠ¶æ€ä¸‹çš„æ—‹è½¬åŠ¨ç”» */
    .player-image.playing {
      animation: rotate 5s linear infinite;
    }

    /* åœæ­¢æ’­æ”¾æ—¶çš„è¿‡æ¸¡æ•ˆæœ - ä¼šå¹³æ»‘åœ°åœåœ¨å½“å‰ä½ç½® */
    .player-image:not(.playing) {
      animation: none;
      /* ä¿æŒå½“å‰å˜æ¢çŠ¶æ€ */
      transform: rotate(var(--rotation, 0deg));
    }

    /* æ—‹è½¬åŠ¨ç”»å…³é”®å¸§ */
    @keyframes rotate {
      from {
        transform: rotate(var(--rotation, 0deg));
      }

      to {
        transform: rotate(calc(var(--rotation, 0deg) + 360deg));
      }
    }

    .player-text {
      margin-top: 10px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      font-size: 20px;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
    }

    /* è·³è¿‡æŒ‰é’®æ ·å¼ */
    a.aki-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1001;
      text-decoration: none;
      line-height: 1;
      color: #03e9f4;
      font-size: 16px;
      display: inline-flex;
      justify-content: center;
    }

    a.aki-btn::before,
    a.aki-btn::after {
      content: "";
      position: absolute;
      z-index: -1;
      width: 30px;
      height: 10px;
      background: #ff1f71;
      box-shadow: 0 0 5px #ff1f71, 0 0 15px #ff1f71, 0 0 30px #ff1f71, 0 0 60px #ff1f71;
      border-radius: 10px;
      transition: all 0.4s ease;
    }

    a.aki-btn::before {
      top: -5px;
    }

    a.aki-btn::after {
      bottom: -5px;
    }

    a.aki-btn:hover::before {
      height: 50%;
      width: 100%;
      border-radius: 50px 50px 0 0;
      top: 0;
    }

    a.aki-btn:hover::after {
      height: 50%;
      width: 100%;
      border-radius: 0 0 50px 50px;
      bottom: 0px;
    }

    a.aki-btn>span {
      position: relative;
      z-index: 2;
      display: inline-block;
      padding: 20px 40px;
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(15px);
      border-radius: 50px;
      overflow: hidden;
    }

    a.aki-btn>span::before {
      content: "";
      position: absolute;
      top: 0;
      left: -30px;
      width: calc(50% + 30px);
      height: 100%;
      background: linear-gradient(to left, rgba(255, 255, 255, 0.2), transparent);
      transform: skewX(45deg);
      transition: all 0.4s ease;
    }

    a.aki-btn:hover>span::before {
      width: calc(100% + 60px);
    }

    /* å‘†çŒ«æ–‡å­—æ ·å¼ */
    .daimao-text {
      position: fixed;
      top: 20px;
      right: 500px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 120px;
      line-height: 1.6;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      font-size: 24px;
      text-align: right;
      white-space: nowrap;
    }

    /* è°ƒæ•´åª’ä½“å®¹å™¨å¸ƒå±€ */
    .media-container {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      align-items: flex-start;
      gap: 30px;
    }

    /* å‘†çŒ«å›¾ç‰‡æ ·å¼ */
    .daimao-image {
      width: 120px;
      height: 120px;
      object-fit: cover;
      position: absolute;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }

    /* åˆå§‹ä½ç½® */
    .daimao2-animate {
      left: -450px;
      top: 0;
      animation: floatSideways 3s ease-in-out infinite;
    }

    .daimao4-animate {
      left: -1000px;
      top: 0;
      animation: floatSideways 3s ease-in-out infinite reverse;
    }

    /* å·¦å³æ¼‚æµ®åŠ¨ç”» */
    @keyframes floatSideways {
      0% {
        transform: translateX(0) rotate(0deg);
      }

      25% {
        transform: translateX(15px) rotate(3deg);
      }

      75% {
        transform: translateX(-15px) rotate(-3deg);
      }

      100% {
        transform: translateX(0) rotate(0deg);
      }
    }

    /* ä¸Šä¸‹æ¼‚æµ®åŠ¨ç”» */
    @keyframes floatUpDown {
      0% {
        transform: translateY(0) rotate(0deg) scale(1);
      }

      25% {
        transform: translateY(-15px) rotate(5deg) scale(1.05);
      }

      75% {
        transform: translateY(10px) rotate(-5deg) scale(0.95);
      }

      100% {
        transform: translateY(0) rotate(0deg) scale(1);
      }
    }

    /* å¼€å¿ƒè·³åŠ¨åŠ¨ç”» */
    @keyframes happy {
      0% {
        transform: scale(1) rotate(0deg);
      }

      25% {
        transform: scale(1.1) rotate(5deg);
      }

      50% {
        transform: scale(0.9) rotate(-5deg);
      }

      75% {
        transform: scale(1.05) rotate(3deg);
      }

      100% {
        transform: scale(1) rotate(0deg);
      }
    }

    /* æ‚¬åœçŠ¶æ€ç±» */
    .daimao-hover {
      animation: floatUpDown 2s ease-in-out infinite !important;
      z-index: 1001;
    }

    /* äº’åŠ¨çŠ¶æ€ç±» */
    .daimao-interact {
      animation: happy 0.5s ease-in-out !important;
    }

    /* éŸ³é¢‘æ’­æ”¾å™¨ä½ç½®è°ƒæ•´ */
    .music-player {
      text-align: center;
    }

    /* æ·»åŠ ä¸»å†…å®¹åŒºåŸŸçš„åˆå§‹çŠ¶æ€ */
    #mainContent {
      display: none;
      opacity: 1;
      transition: opacity 1s ease-in;
    }

    /* å½“æ˜¾ç¤ºæ—¶çš„çŠ¶æ€ */
    #mainContent.visible {
      display: block;
      opacity: 1;
    }

    /* è°ƒæ•´ canvas ä½ç½® */
    .canvas {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
    }

    #fireworkCanvas {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
    }

    .left-music-players,
    .right-music-players {
      position: absolute;
      top: 200px;
      display: flex;
      flex-direction: column;
      gap: 30px;
      z-index: 3;
    }

    .left-music-players {
      left: -200px;
    }

    .right-music-players {
      right: -200px;
    }

    .scroll-content {
      position: relative;
      width: 100%;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      box-sizing: border-box;
      z-index: 3;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
    }

    .scroll-content h1 {
      font-size: 32px;
      text-align: center;
      margin-bottom: 30px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
    }

    .scroll-content h2 {
      font-size: 24px;
      margin: 20px 0;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
    }

    .scroll-content p,
    .scroll-content li {
      font-size: 18px;
      line-height: 1.6;
      margin: 10px 0;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
    }

    .music-player-item {
      text-align: center;
      background: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 15px;
      backdrop-filter: blur(5px);
    }

    .music-player-item .player-image {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      border: 3px solid #005bb5;
      object-fit: cover;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      transition: transform 0.2s;
    }

    .music-player-item .player-image:hover {
      transform: scale(1.1);
    }

    .music-player-item .player-text {
      margin-top: 8px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      font-size: 14px;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      white-space: nowrap;
    }

    /* ä»‹ç»å®¹å™¨æ ·å¼ */
    .intro-container {
      position: relative;
      margin: 20px 0;
      padding: 10px;
    }

    /* æ ‡é¢˜æ¡†æ ·å¼ */
    .intro-title {
      display: inline-block;
      position: relative;
      padding: 12px 30px;
      background: rgba(3, 233, 244, 0.1);
      border: 3px solid #03e9f4;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    /* æ·»åŠ å¯çˆ±çš„è£…é¥°è¾¹æ¡† */
    .intro-title::before {
      content: '';
      position: absolute;
      top: -8px;
      left: -8px;
      right: -8px;
      bottom: -8px;
      border: 2px dashed #03e9f4;
      border-radius: 30px;
      opacity: 0.6;
      animation: rotate 10s linear infinite;
    }

    /* æ ‡é¢˜æ–‡å­—æ ·å¼ */
    .title-text {
      font-size: 1.5em;
      color: #03e9f4;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      position: relative;
      z-index: 1;
    }

    /* æ·»åŠ å¯çˆ±çš„è£…é¥°å…ƒç´  */
    .title-text::before,
    .title-text::after {
      content: 'â™ª';
      position: absolute;
      color: #03e9f4;
      font-size: 0.8em;
      opacity: 0.8;
    }

    .title-text::before {
      left: -25px;
      top: 50%;
      transform: translateY(-50%);
    }

    .title-text::after {
      right: -25px;
      top: 50%;
      transform: translateY(-50%);
    }

    /* æ‚¬åœæ•ˆæœ */
    .intro-title:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(3, 233, 244, 0.3);
      background: rgba(3, 233, 244, 0.2);
    }

    /* å›¾ç‰‡å®¹å™¨æ ·å¼ */
    .intro-image {
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(10px);
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
    }

    /* å›¾ç‰‡æ ·å¼ */
    .intro-image img {
      max-width: 300px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }

    /* æ‚¬åœæ—¶æ˜¾ç¤ºå›¾ç‰‡ */
    .intro-title:hover .intro-image {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(20px);
    }

    /* æ—‹è½¬åŠ¨ç”» */
    @keyframes rotate {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* æ·»åŠ å°æ˜Ÿæ˜Ÿè£…é¥° */
    .intro-title::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      background: radial-gradient(circle at 30% 30%, rgba(3, 233, 244, 0.1) 0%, transparent 10%),
        radial-gradient(circle at 70% 70%, rgba(3, 233, 244, 0.1) 0%, transparent 10%);
      border-radius: 25px;
      pointer-events: none;
    }

    /* æ·»åŠ å‘¼å¸å…‰æ•ˆ */
    @keyframes glow {
      0% {
        box-shadow: 0 0 5px rgba(3, 233, 244, 0.3);
      }

      50% {
        box-shadow: 0 0 20px rgba(3, 233, 244, 0.5);
      }

      100% {
        box-shadow: 0 0 5px rgba(3, 233, 244, 0.3);
      }
    }

    .intro-title {
      animation: glow 3s infinite;
    }

    /* æ·»åŠ æ ‡é¢˜ç»„æ ·å¼ */
    .title-group {
      display: flex;
      gap: 30px;
      /* ä¸¤ä¸ªæ¡†æ¡†ä¹‹é—´çš„é—´è· */
      align-items: center;
      margin: 20px 0;
    }

    /* æ­¦å™¨å®¹å™¨æ ·å¼ */
    .weapon-container {
      position: relative;
      padding: 10px;
      display: inline-block;
    }

    /* æ­¦å™¨æ ‡é¢˜æ¡†æ ·å¼ */
    .weapon-title {
      display: inline-block;
      position: relative;
      padding: 12px 30px;
      background: rgba(244, 83, 3, 0.1);
      border: 3px solid #f45303;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      top: -200px;
      z-index: 999;
    }

    /* æ ‡é¢˜æ–‡å­—æ ·å¼ */
    .weapon-title .title-text {
      font-size: 1.5em;
      color: #f45303;
      text-shadow: 0 0 10px rgba(244, 83, 3, 0.3);
    }

    /* æ­¦å™¨åˆ—è¡¨å®¹å™¨ */
    .weapon-list {
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%) scaleY(0);
      background: rgba(30, 30, 30, 0.95);
      border-radius: 15px;
      padding: 20px;
      width: 300px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      transform-origin: top;
      z-index: 1000;
      overflow: visible;
    }

    /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
    .weapon-list::-webkit-scrollbar {
      width: 8px;
    }

    .weapon-list::-webkit-scrollbar-track {
      background: rgba(244, 83, 3, 0.1);
      border-radius: 4px;
    }

    .weapon-list::-webkit-scrollbar-thumb {
      background: #f45303;
      border-radius: 4px;
    }

    /* æ­¦å™¨é¡¹å®¹å™¨æ ·å¼ */
    .weapon-item {
      position: relative;
      display: flex;
      align-items: center;
      padding: 12px 15px;
      margin: 8px 0;
      border-radius: 12px;
      background: rgba(244, 83, 3, 0.1);
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    /* æ­¦å™¨å†…å®¹æ ·å¼ */
    .weapon-content {
      display: flex;
      align-items: center;
      z-index: 2;
    }

    /* æ­¦å™¨å›¾æ ‡æ ·å¼ */
    .weapon-icon {
      width: 36px;
      height: 36px;
      margin-right: 15px;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }

    /* é¢„è§ˆå®¹å™¨æ ·å¼è°ƒæ•´ */
    .weapon-preview {
      position: absolute;
      left: 100%;
      top: 50%;
      transform: translateY(-50%) scale(0);
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
      background: rgba(30, 30, 30, 0.95);
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(244, 83, 3, 0.3);
    }

    /* é¢„è§ˆå›¾ç‰‡æ ·å¼ */
    .preview-image {
      width: 300px;
      height: 300px;
      object-fit: contain;
      border-radius: 8px;
    }

    /* ä¿®æ”¹æ»‘å…¥åŠ¨ç”» */
    @keyframes slideLeft {
      from {
        left: 100%;
        opacity: 0;
      }

      to {
        left: -320px;
        opacity: 1;
      }
    }

    /* æ‚¬åœæ•ˆæœè°ƒæ•´ */
    .weapon-item:hover .weapon-preview {
      transform: translateY(-50%) scale(1);
      opacity: 1;
      visibility: visible;
      animation: slideLeft 0.4s ease-out forwards;
    }

    /* ä¼˜åŒ–é¢„è§ˆå›¾çš„èƒŒæ™¯æ•ˆæœ */
    .weapon-preview::before {
      content: '';
      position: absolute;
      top: -5px;
      right: -5px;
      bottom: -5px;
      left: -5px;
      background: linear-gradient(45deg, #f45303, transparent);
      border-radius: 15px;
      z-index: -1;
      opacity: 0.5;
      filter: blur(8px);
    }

    /* æ­¦å™¨åç§°æ–‡å­—æ ·å¼ */
    .weapon-item span {
      color: #f45303;
      font-size: 1.1em;
      font-weight: 500;
      text-shadow: 0 0 5px rgba(244, 83, 3, 0.2);
    }

    /* æ‚¬åœæ•ˆæœ */
    .weapon-title:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(244, 83, 3, 0.3);
      background: rgba(244, 83, 3, 0.2);
    }

    .weapon-title:hover .weapon-list {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) scaleY(1);
    }

    /* æ·»åŠ è£…é¥°æ€§åŠ¨ç”» */
    .weapon-title::before {
      content: 'âš”ï¸';
      position: absolute;
      left: -25px;
      top: 50%;
      transform: translateY(-50%);
    }

    .weapon-title::after {
      content: 'ğŸ›¡ï¸';
      position: absolute;
      right: -25px;
      top: 50%;
      transform: translateY(-50%);
    }

    /* æ·»åŠ è„‰å†²åŠ¨ç”» */
    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(244, 83, 3, 0.4);
      }

      70% {
        box-shadow: 0 0 0 10px rgba(244, 83, 3, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(244, 83, 3, 0);
      }
    }

    .weapon-title {
      animation: pulse 2s infinite;
    }

    /* è®¾ç½®é¡µé¢åŸºç¡€æ ·å¼ */
    body {
      background: #800000;
      /* æš—çº¢è‰²åº•è‰² */
      position: relative;
      overflow-x: hidden;
      min-height: 100vh;
    }

    /* åŠ¨æ€èƒŒæ™¯å®¹å™¨ */
    .festive-bg {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1;
      overflow: hidden;
    }

    /* åŠ¨æ€æ¡çº¹èƒŒæ™¯ */
    .moving-stripes {
      position: absolute;
      width: 200%;
      height: 200%;
      background: repeating-linear-gradient(45deg,
          rgba(255, 69, 0, 0.15) 0px,
          /* æ©™çº¢è‰²æ¡çº¹ */
          rgba(255, 69, 0, 0.15) 20px,
          rgba(255, 140, 0, 0.15) 20px,
          /* æ·±æ©™è‰²æ¡çº¹ */
          rgba(255, 140, 0, 0.15) 40px,
          rgba(255, 215, 0, 0.15) 40px,
          /* é‡‘è‰²æ¡çº¹ */
          rgba(255, 215, 0, 0.15) 60px);
      animation: moveStripes 20s linear infinite;
    }

    /* é£˜åŠ¨çš„ç¥¥äº‘å±‚ */
    .floating-pattern {
      position: absolute;
      width: 200%;
      height: 200%;
      background-image:
        radial-gradient(circle at 30% 30%, rgba(255, 215, 0, 0.1) 0%, transparent 30%),
        radial-gradient(circle at 70% 70%, rgba(255, 69, 0, 0.1) 0%, transparent 30%),
        radial-gradient(circle at 50% 50%, rgba(255, 140, 0, 0.1) 0%, transparent 30%);
      animation: floatPattern 15s ease-in-out infinite alternate;
    }

    /* å…‰æ•ˆå åŠ å±‚ */
    .light-overlay {
      position: absolute;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg,
          rgba(255, 69, 0, 0.2) 0%,
          rgba(255, 140, 0, 0.2) 50%,
          rgba(255, 215, 0, 0.2) 100%);
      animation: shiftGradient 10s ease-in-out infinite alternate;
    }

    /* æ¡çº¹ç§»åŠ¨åŠ¨ç”» */
    @keyframes moveStripes {
      0% {
        transform: translate(-50%, -50%) rotate(0deg);
      }

      100% {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    /* ç¥¥äº‘é£˜åŠ¨åŠ¨ç”» */
    @keyframes floatPattern {
      0% {
        transform: translate(-10%, -10%) rotate(-5deg);
      }

      100% {
        transform: translate(10%, 10%) rotate(5deg);
      }
    }

    /* æ¸å˜å…‰æ•ˆåŠ¨ç”» */
    @keyframes shiftGradient {
      0% {
        opacity: 0.5;
        transform: scale(1);
      }

      50% {
        opacity: 0.7;
        transform: scale(1.05);
      }

      100% {
        opacity: 0.5;
        transform: scale(1);
      }
    }

    /* å†…å®¹å®¹å™¨æ ·å¼è°ƒæ•´ */
    .content-container {
      background: rgba(0, 0, 0, 0.5);
      border-radius: 20px;
      padding: 30px;
      margin: 20px;
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
      position: relative;
      z-index: 1;
      backdrop-filter: blur(3px);
    }

    /* å†…å®¹å®¹å™¨è¾¹æ¡†å‘å…‰æ•ˆæœ */
    .content-container::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg,
          rgba(255, 69, 0, 0.3),
          rgba(255, 215, 0, 0.3),
          rgba(255, 140, 0, 0.3));
      border-radius: 22px;
      z-index: -1;
      animation: borderPulse 3s ease-in-out infinite;
    }

    @keyframes borderPulse {

      0%,
      100% {
        opacity: 0.5;
      }

      50% {
        opacity: 0.8;
      }
    }

    /* æ·»åŠ å“åº”å¼é€‚é… */
    @media (max-width: 768px) {
      body::before {
        border-width: 10px;
      }

      .content-container {
        margin: 10px;
        padding: 20px;
      }
    }

    /* ç¯ç¬¼æ ·å¼ */
    .lantern {
      position: fixed;
      width: 60px;
      height: 80px;
      background: #ff4d4d;
      border-radius: 50% / 15%;
      box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
      animation: swingLantern 3s ease-in-out infinite;
      z-index: 2;
    }

    .lantern::before {
      content: 'ç¦';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #FFD700;
      font-size: 24px;
      font-weight: bold;
    }

    .lantern::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 10px;
      height: 20px;
      background: #FFD700;
      border-radius: 5px;
    }

    /* æ˜¥è”æ ·å¼ */
    .couplet {
      position: fixed;
      width: 40px;
      height: 300px;
      background: #8B0000;
      padding: 20px 10px;
      writing-mode: vertical-rl;
      color: #FFD700;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      box-shadow: 0 0 15px rgba(139, 0, 0, 0.3);
      z-index: 2;
    }

    /* ç¯ç¬¼æ‘†åŠ¨åŠ¨ç”» */
    @keyframes swingLantern {

      0%,
      100% {
        transform: rotate(-5deg);
      }

      50% {
        transform: rotate(5deg);
      }
    }

    /* è£…é¥°å…ƒç´ å®šä½ */
    .decorations {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    /* æ·»åŠ ä¸€äº›é‡‘è‰²æ˜Ÿæ˜Ÿè£…é¥° */
    .star {
      position: absolute;
      width: 10px;
      height: 10px;
      background: #FFD700;
      clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
      animation: twinkle 2s ease-in-out infinite;
    }

    @keyframes twinkle {

      0%,
      100% {
        opacity: 0.3;
      }

      50% {
        opacity: 1;
      }
    }

    /* GitHub é“¾æ¥å®¹å™¨æ ·å¼ */
    .github-container {
      position: relative;
    }

    .github-link {
      display: block;
      text-decoration: none;
      padding: 15px 25px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #03e9f4;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .github-content {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .github-icon {
      display: flex;
      align-items: center;
      animation: pulse 2s infinite;
    }

    .github-text {
      display: flex;
      flex-direction: column;
    }

    .main-text {
      color: #03e9f4;
      font-size: 1.2em;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
    }

    .sub-text {
      color: #03e9f4;
      font-size: 0.9em;
      opacity: 0.8;
    }

    /* æ‚¬åœæ•ˆæœ */
    .github-link:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(3, 233, 244, 0.5);
      background: rgba(3, 233, 244, 0.1);
    }

    .github-link:hover .github-icon {
      animation: bounce 0.5s ease infinite;
    }

    /* è·³åŠ¨åŠ¨ç”» */
    @keyframes bounce {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    /* å‘¼å¸å…‰æ•ˆ */
    @keyframes pulse {
      0% {
        filter: drop-shadow(0 0 5px rgba(3, 233, 244, 0.3));
      }

      50% {
        filter: drop-shadow(0 0 15px rgba(3, 233, 244, 0.5));
      }

      100% {
        filter: drop-shadow(0 0 5px rgba(3, 233, 244, 0.3));
      }
    }

    /* ç§»åŠ¨ç«¯é€‚é… */
    @media (max-width: 768px) {
      .github-container {
        bottom: 20px;
      }

      .github-link {
        padding: 10px 20px;
      }

      .main-text {
        font-size: 1em;
      }

      .sub-text {
        font-size: 0.8em;
      }
    }

    /* åˆ›å»ºä¸€ä¸ªå®¹å™¨æ¥åŒ…å«ä¸¤ä¸ªæŒ‰é’® */
    .bottom-buttons {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 30px;
      z-index: 1000;
    }

    /* æ¸¸æˆæŒ‰é’®æ ·å¼ä¿®æ”¹ */
    .game-link {
      display: block;
      text-decoration: none;
      padding: 15px 30px;
      background: rgba(255, 69, 0, 0.8);
      border: 2px solid #FFD700;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
      animation: bounce-light 2s infinite;
    }

    .game-button-text {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .game-button-text .main-text {
      color: #FFD700;
      font-size: 1.3em;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    .game-button-text .sub-text {
      color: #FFD700;
      font-size: 0.9em;
      opacity: 0.8;
    }

    /* æ‚¬åœæ•ˆæœ */
    .game-link:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
      background: rgba(255, 69, 0, 0.9);
    }

    /* æ¸¸æˆæŒ‰é’®å®¹å™¨æ ·å¼ä¿®æ”¹ */
    .game-button-container {
      position: relative;
    }

    /* å·¦ä¾§æŒ‰é’®ç»„æ ·å¼ */
    .left-buttons {
      position: absolute;
      left: 50px;
      top: 1000px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 300px;
      padding: 20px 0;
      z-index: 9999;
    }

    /* å³ä¾§æŒ‰é’®ç»„æ ·å¼ */
    .right-buttons {
      position: absolute;
      right: 50px;
      top: 1000px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 300px;
      padding: 20px 0;
      z-index: 9999;
    }

    /* ä¾§è¾¹æŒ‰é’®ç‰¹å®šæ ·å¼ */
    .side-btn {
      pointer-events: auto;
      font-size: 16px !important;
      padding: 15px 25px !important;
      white-space: nowrap;
      opacity: 0.8;
      transition: opacity 0.3s ease;
      position: relative;
      z-index: 1;
    }

    .side-btn:hover {
      opacity: 1;
    }

    /* ä¿®æ”¹é€‰æ‹©å™¨ï¼Œåªé’ˆå¯¹ä¾§è¾¹æŒ‰é’® */
    .side-buttons-container .aki-btn {
      text-decoration: none;
      line-height: 1;
      display: inline-block;
      position: relative;
      padding: 15px 20px;
      font-size: 16px;
      background: linear-gradient(90deg, #03a9f4, #f441a5, #ffeb3b, #03a9f4);
      background-size: 400%;
      text-align: center;
      color: #fff;
      border-radius: 50px;
      animation: sun 6s linear infinite;
      animation-play-state: paused;
      overflow: hidden;
    }

    .side-buttons-container .aki-btn::before {
      content: "";
      position: absolute;
      inset: 0;
      background: inherit;
      background-size: 400%;
      border-radius: 50px;
      filter: blur(4px);
      z-index: -1;
      animation: sun 6s linear infinite;
      animation-play-state: paused;
    }

    @keyframes sun {
      100% {
        background-position: -400% 0;
      }
    }

    .side-buttons-container .aki-btn:hover::before,
    .side-buttons-container .aki-btn:hover {
      animation-play-state: running;
    }

    /* ç§»åŠ¨ç«¯é€‚é… */
    @media (max-width: 768px) {

      .left-buttons,
      .right-buttons {
        display: none;
        /* åœ¨ç§»åŠ¨ç«¯éšè—ä¾§è¾¹æŒ‰é’® */
      }
    }

    /* ä¾§è¾¹æŒ‰é’®å®¹å™¨æ ·å¼ */
    .side-buttons-container {
      position: relative;
      z-index: 9999;
      pointer-events: none;
      opacity: 0;
      /* åˆå§‹çŠ¶æ€è®¾ä¸ºéšè— */
      transition: opacity 0.5s ease;
      /* æ·»åŠ è¿‡æ¸¡æ•ˆæœ */
      display: none;
      /* åˆå§‹çŠ¶æ€ä¸æ˜¾ç¤º */
    }

    /* å½“ä¸»å†…å®¹æ˜¾ç¤ºæ—¶æ˜¾ç¤ºä¾§è¾¹æŒ‰é’® */
    #mainContent.visible+.side-buttons-container {
      opacity: 1;
      display: block;
    }

    /* ä¿®æ”¹æç¤ºæ–‡å­—çš„é¢œè‰²å’Œå¤§å° */
    .tips-text {
      color: #40E0D0;
      /* è“ç»¿è‰² */
      font-size: 18px;
      /* è°ƒæ•´ä¸ºåŸå§‹å¤§å° */
      line-height: 1.8;
      margin: 15px 0;
      text-align: left;
      padding-left: 20px;
    }

    .tips-text li {
      color: #40E0D0;
      margin: 8px 0;
    }

    /* è°ƒæ•´è‡ªæˆ‘ä»‹ç»æ–‡å­—çš„æ ·å¼ */
    .intro-text {
      color: #40E0D0;
      font-size: 28px;
      line-height: 2.0;
      text-align: center;
      letter-spacing: 1.5px;
      text-shadow: 0 0 3px rgba(64, 224, 208, 0.3);
      margin: 30px 0;
      z-index: 1;
      position: relative;
    }

    /* ç¡®ä¿å›¾ç‰‡åœ¨æ–‡å­—ä¸Šå±‚ */
    .intro-image {
      position: relative;
      z-index: 2;
      /* å›¾ç‰‡å±‚çº§é«˜äºæ–‡å­— */
    }

    /* ä¿®æ”¹æ–°å¹´å±•æœ›å’Œæ–°å¹´å¯„è¯­çš„æ ·å¼ */
    .wish-text {
      color: #40E0D0;
      font-size: 20px;
      /* è°ƒæ•´ä¸ºåŸå§‹å¤§å° */
      line-height: 2.2;
      margin: 20px 0;
      text-align: left;
      padding-left: 25px;
      letter-spacing: 1px;
    }

    /* ä¸»æ ‡é¢˜æ ·å¼è°ƒæ•´ */
    h1 {
      color: #40E0D0;
      font-size: 48px;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      text-align: center;
      margin: 20px 0;
      font-weight: bold;
      letter-spacing: 2px;
    }

    /* å·¦å³ä¸¤ä¾§æŒ‰é’®æ–‡å­—æ ·å¼ */
    .side-btn {
      color: #fff;
      font-size: 18px;
      background: linear-gradient(45deg, #4169E1, #1E90FF);
      padding: 12px 24px;
      border-radius: 25px;
      text-decoration: none;
      margin: 10px 0;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    /* åº•éƒ¨æŒ‰é’®æ–‡å­—æ ·å¼ */
    .game-link .main-text,
    .github-link .main-text {
      font-size: 22px;
      font-weight: bold;
    }

    .game-link .sub-text,
    .github-link .sub-text {
      font-size: 16px;
      opacity: 0.9;
    }

    /* è§†é¢‘æ¨¡æ€æ¡†æ ·å¼ */
    .video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    /* ä¿®æ”¹è§†é¢‘å®¹å™¨æ ·å¼ */
    .video-container {
      position: relative;
      /* ç¡®ä¿å®¹å™¨æ˜¯ç›¸å¯¹å®šä½çš„ */
      width: 80%;
      max-width: 800px;
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      max-height: 80vh;
    }

    #videoPlayer {
      width: 100%;
      /* è®¾ç½®è§†é¢‘æœ€å¤§é«˜åº¦ï¼Œç¡®ä¿æ§åˆ¶æ å¯è§ */
      max-height: calc(80vh - 100px);
      object-fit: contain;
      display: block;
    }

    /* è§†é¢‘æ§åˆ¶æ å¸ƒå±€ä¼˜åŒ– */
    .video-controls {
      position: relative;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(to bottom, rgba(139, 0, 0, 0.9), rgba(80, 0, 0, 0.95));
      border-top: 1px solid rgba(255, 215, 0, 0.3);
      padding: 15px;
      opacity: 1;
      transition: opacity 0.3s;
      z-index: 1002;
    }

    /* æ·»åŠ ä¸»æ§åˆ¶åŒºåŸŸå®¹å™¨ */
    .controls-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
    }

    /* å·¦ä¾§æ§åˆ¶æŒ‰é’®ç»„ */
    .controls-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* å³ä¾§æ§åˆ¶æŒ‰é’®ç»„ */
    .controls-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    /* éŸ³é‡æ§åˆ¶å®¹å™¨ */
    .volume-container {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* æ§åˆ¶æŒ‰é’®åŸºç¡€æ ·å¼ */
    .control-btn {
      position: relative;
      background: rgba(255, 215, 0, 0.1);
      border: 1px solid rgba(255, 215, 0, 0.3);
      color: #FFD700;
      cursor: pointer;
      padding: 8px 12px;
      font-size: 18px;
      border-radius: 4px;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 5px rgba(255, 215, 0, 0.2);
    }

    /* æç¤ºæ¡†æ ·å¼ */
    .control-btn[data-tooltip]::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      padding: 5px 10px;
      background: rgba(139, 0, 0, 0.95);
      border: 1px solid #FFD700;
      color: #FFD700;
      font-size: 14px;
      white-space: nowrap;
      border-radius: 4px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      pointer-events: none;
      margin-bottom: 5px;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
      z-index: 1003;
      font-family: "æ¥·ä½“", KaiTi, serif;
    }

    /* æç¤ºæ¡†å°ä¸‰è§’å½¢ */
    .control-btn[data-tooltip]::before {
      content: '';
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 6px solid transparent;
      border-top-color: rgba(139, 0, 0, 0.95);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      pointer-events: none;
      margin-bottom: -6px;
      z-index: 1003;
    }

    /* æ˜¾ç¤ºæç¤ºæ¡† */
    .control-btn[data-tooltip]:hover::after,
    .control-btn[data-tooltip]:hover::before {
      opacity: 1;
      visibility: visible;
    }

    .control-btn:hover {
      background: rgba(255, 215, 0, 0.2);
      border-color: #FFD700;
      color: #FFF;
      text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    /* æ—¶é—´æ˜¾ç¤ºæ ·å¼ä¼˜åŒ– */
    .time-display {
      color: #FFD700;
      font-size: 16px;
      min-width: 120px;
      text-align: center;
      padding: 0 10px;
      font-family: "æ¥·ä½“", KaiTi, serif;
      text-shadow: 0 0 3px rgba(255, 215, 0, 0.5);
    }

    /* éŸ³é‡æ§åˆ¶æ ·å¼ä¼˜åŒ– */
    .volume-slider {
      background: rgba(255, 215, 0, 0.2);
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 3px;
      width: 80px;
      height: 6px;
      cursor: pointer;
      margin: 0 10px;
    }

    .volume-filled {
      background: #FFD700;
      height: 100%;
      border-radius: 3px;
    }

    /* è§†é¢‘æ¨¡æ€æ¡†æ ·å¼ä¼˜åŒ– */
    .video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      z-index: 10000;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    /* æ·»åŠ æ–°çš„æç¤ºæ¡†æ ·å¼ */
    .scroll-hint {
      position: fixed;
      /* æ”¹ä¸º fixed å®šä½ */
      bottom: 100px;
      /* è°ƒæ•´ä½ç½® */
      right: 100px;
      padding: 15px 25px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #03e9f4;
      border-radius: 15px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      /* æ·»åŠ å­—ä½“ */
      font-size: 1.2em;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      animation: glow 2s ease-in-out infinite;
      backdrop-filter: blur(5px);
      z-index: 1002;
      /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
      pointer-events: none;
      /* é˜²æ­¢å¹²æ‰°ç‚¹å‡» */
    }

    @keyframes glow {

      0%,
      100% {
        box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      }

      50% {
        box-shadow: 0 0 30px rgba(3, 233, 244, 0.5);
      }
    }

    /* æ·»åŠ æ–°çš„æç¤ºæ¡†æ ·å¼ */
    .scroll-hint {
      position: fixed;
      /* æ”¹ä¸º fixed å®šä½ */
      bottom: 100px;
      /* è°ƒæ•´ä½ç½® */
      right: 100px;
      padding: 15px 25px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #03e9f4;
      border-radius: 15px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      /* æ·»åŠ å­—ä½“ */
      font-size: 1.2em;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      animation: glow 2s ease-in-out infinite;
      backdrop-filter: blur(5px);
      z-index: 1002;
      /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
      pointer-events: none;
      /* é˜²æ­¢å¹²æ‰°ç‚¹å‡» */
    }

    @keyframes glow {

      0%,
      100% {
        box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      }

      50% {
        box-shadow: 0 0 30px rgba(3, 233, 244, 0.5);
      }
    }

    /* ä¿®æ”¹å…³é—­æŒ‰é’®æ ·å¼ï¼Œç§»é™¤æç¤ºæ¡†ç›¸å…³æ ·å¼ */
    .close-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1004;
      background: rgba(139, 0, 0, 0.8);
      border: 1px solid #FFD700;
      color: #FFD700;
      width: 35px;
      height: 35px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: rgba(139, 0, 0, 0.95);
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
    }

    /* ä¿®æ”¹ä¾§è¾¹æŒ‰é’®æ ·å¼ï¼Œæ·»åŠ è§†é¢‘å›¾æ ‡ */
    .side-btn {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .side-btn::before {
      content: 'â–¶';
      font-size: 14px;
    }

    /* è§†é¢‘æ§åˆ¶æ æ•´ä½“æ ·å¼ */
    .video-controls {
      background: linear-gradient(to bottom, rgba(139, 0, 0, 0.9), rgba(80, 0, 0, 0.95));
      border-top: 1px solid rgba(255, 215, 0, 0.3);
      padding: 15px;
    }

    /* è¿›åº¦æ¡å®¹å™¨æ ·å¼ */
    .progress-bar {
      position: relative;
      width: 100%;
      height: 8px;
      background: rgba(255, 215, 0, 0.2);
      border-radius: 4px;
      cursor: pointer;
      margin-bottom: 15px;
      border: 1px solid rgba(255, 215, 0, 0.3);
      overflow: visible;
      /* å…è®¸å‘†çŒ«æ¸¸æ˜¾ç¤ºåœ¨è¿›åº¦æ¡å¤–éƒ¨ */
    }

    /* è¿›åº¦æ¡å¡«å……éƒ¨åˆ†æ ·å¼ */
    .progress-filled {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background: #FFD700;
      border-radius: 4px;
      width: 0%;
      /* åˆå§‹å®½åº¦ä¸º0 */
      transition: width 0.1s linear;
    }

    /* ä¿®æ”¹å‘†çŒ«æ¸¸çš„å®¹å™¨å®šä½ */
    .progress-filled::after {
      content: '';
      position: absolute;
      right: 0px;
      /* è°ƒæ•´å‘†çŒ«æ¸¸çš„æ°´å¹³ä½ç½® */
      top: -65px;
      /* è°ƒæ•´å‘†çŒ«æ¸¸çš„å‚ç›´ä½ç½® */
      width: 80px;
      height: 80px;
      background-image: url('images/daimaoyou.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      pointer-events: none;
      z-index: 2;
      animation: daimaoAnimation 2s infinite;
      transform-origin: center center;
    }

    /* ç¡®ä¿è¿›åº¦æ¡åœ¨è§†é¢‘æ§åˆ¶æ ä¸­æ­£ç¡®æ˜¾ç¤º */
    .video-controls {
      position: relative;
      width: 100%;
      padding: 15px;
      background: linear-gradient(to bottom, rgba(139, 0, 0, 0.9), rgba(80, 0, 0, 0.95));
      z-index: 1;
    }

    /* æ·»åŠ å‘†çŒ«æ¸¸çš„åŠ¨ç”»å…³é”®å¸§ */
    @keyframes daimaoAnimation {
      0% {
        transform: translateX(50%) translateY(0) rotate(0deg);
      }

      25% {
        transform: translateX(60%) translateY(-15px) rotate(15deg);
      }

      50% {
        transform: translateX(50%) translateY(0) rotate(0deg);
      }

      75% {
        transform: translateX(40%) translateY(-15px) rotate(-15deg);
      }

      100% {
        transform: translateX(50%) translateY(0) rotate(0deg);
      }
    }

    /* é¼ æ ‡æ‚¬åœæ—¶çš„åŠ¨ç”»å¢å¼º */
    .progress-bar:hover .progress-filled::after {
      animation: daimaoHoverAnimation 1s infinite;
    }

    @keyframes daimaoHoverAnimation {
      0% {
        transform: translateX(50%) translateY(0) rotate(0deg) scale(1);
      }

      25% {
        transform: translateX(70%) translateY(-25px) rotate(25deg) scale(1.2);
      }

      50% {
        transform: translateX(50%) translateY(0) rotate(0deg) scale(1);
      }

      75% {
        transform: translateX(30%) translateY(-25px) rotate(-25deg) scale(1.2);
      }

      100% {
        transform: translateX(50%) translateY(0) rotate(0deg) scale(1);
      }
    }

    /* æ§åˆ¶æŒ‰é’®åŸºç¡€æ ·å¼ */
    .control-btn {
      background: rgba(255, 215, 0, 0.1);
      border: 1px solid rgba(255, 215, 0, 0.3);
      color: #FFD700;
      padding: 8px 12px;
      border-radius: 4px;
      transition: all 0.3s;
      box-shadow: 0 0 5px rgba(255, 215, 0, 0.2);
    }

    .control-btn:hover {
      background: rgba(255, 215, 0, 0.2);
      border-color: #FFD700;
      color: #FFF;
      text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    /* éŸ³é‡æ»‘å—æ ·å¼ */
    .volume-slider {
      background: rgba(255, 215, 0, 0.2);
      border: 1px solid rgba(255, 215, 0, 0.3);
      border-radius: 3px;
    }

    .volume-filled {
      background: #FFD700;
      height: 100%;
      border-radius: 3px;
    }

    /* æ—¶é—´æ˜¾ç¤ºæ ·å¼ */
    .time-display {
      color: #FFD700;
      font-family: "æ¥·ä½“", KaiTi, serif;
      text-shadow: 0 0 3px rgba(255, 215, 0, 0.5);
    }

    /* æç¤ºæ¡†æ ·å¼ */
    .control-btn[data-tooltip]::after {
      background: rgba(139, 0, 0, 0.95);
      border: 1px solid #FFD700;
      color: #FFD700;
      font-family: "æ¥·ä½“", KaiTi, serif;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    .control-btn[data-tooltip]::before {
      border-top-color: rgba(139, 0, 0, 0.95);
    }

    /* å…³é—­æŒ‰é’®ç‰¹æ®Šæ ·å¼ */
    .close-btn {
      background: rgba(139, 0, 0, 0.8);
      border: 1px solid #FFD700;
      color: #FFD700;
      width: 35px;
      height: 35px;
    }

    .close-btn:hover {
      background: rgba(139, 0, 0, 0.95);
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
    }

    /* è§†é¢‘å®¹å™¨æ ·å¼ */
    .video-container {
      border: 1px solid rgba(255, 215, 0, 0.3);
      box-shadow: 0 0 20px rgba(139, 0, 0, 0.3);
      border-radius: 10px;
      overflow: hidden;
    }

    /* æ’­æ”¾å™¨æ¿€æ´»çŠ¶æ€çš„ç‰¹æ•ˆ */
    .video-controls:hover .control-btn,
    .video-controls:hover .progress-bar,
    .video-controls:hover .volume-slider {
      border-color: rgba(255, 215, 0, 0.5);
    }

    /* æ·»åŠ å­—ä½“å£°æ˜ */
    @font-face {
      font-family: 'KoseFont';
      src: url('fonts/Kosefont-JP.ttf') format('truetype'),
        url('fonts/KosefontP-JP.ttf') format('truetype');
    }

    /* ä¿®æ”¹æ—¶é—´æ˜¾ç¤ºæ ·å¼ */
    .time-display {
      color: #FFD700;
      font-family: 'KoseFont', Arial, sans-serif;
      text-shadow: 0 0 3px rgba(255, 215, 0, 0.5);
    }

    /* ä¿®æ”¹æç¤ºæ¡†æ ·å¼ */
    .control-btn[data-tooltip]::after {
      background: rgba(139, 0, 0, 0.95);
      border: 1px solid #FFD700;
      color: #FFD700;
      font-family: 'KoseFont', Arial, sans-serif;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
    }

    /* ä¿®æ”¹æ‰€æœ‰æ§åˆ¶æŒ‰é’®çš„æ–‡å­—æ ·å¼ */
    .control-btn {
      font-family: 'KoseFont', Arial, sans-serif;
    }

    /* ç¡®ä¿æ‰€æœ‰æ’­æ”¾å™¨ç›¸å…³çš„æ–‡å­—éƒ½ä½¿ç”¨æ–°å­—ä½“ */
    .video-controls,
    .volume-container,
    .progress-bar,
    .controls-left,
    .controls-right {
      font-family: 'KoseFont', Arial, sans-serif;
    }

    /* ä¿®æ”¹å…³é—­æŒ‰é’®æç¤ºæ¡†ä½ç½® */
    .close-btn[data-tooltip]::after {
      content: attr(data-tooltip);
      position: absolute;
      bottom: -30px;
      /* å‘ä¸Šè°ƒæ•´ä¸€ç‚¹ */
      right: 30px;
      /* å‘å³è°ƒæ•´ï¼Œä¸è¦å¤ªé å·¦ */
      padding: 5px 10px;
      background: rgba(139, 0, 0, 0.95);
      border: 1px solid #FFD700;
      color: #FFD700;
      font-size: 14px;
      white-space: nowrap;
      border-radius: 4px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      pointer-events: none;
      box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
      z-index: 1003;
      font-family: 'KoseFont', Arial, sans-serif;
    }

    /* ä¿®æ”¹æç¤ºæ¡†å°ä¸‰è§’å½¢çš„ä½ç½® */
    .close-btn[data-tooltip]::before {
      content: '';
      position: absolute;
      top: 100%;
      /* æ”¹ä¸ºä»é¡¶éƒ¨å¼€å§‹è®¡ç®— */
      right: 40px;
      /* é…åˆæç¤ºæ¡†ä½ç½®è°ƒæ•´ */
      border: 6px solid transparent;
      border-bottom-color: rgba(139, 0, 0, 0.95);
      /* æ”¹ä¸ºå‘ä¸‹çš„ä¸‰è§’å½¢ */
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      pointer-events: none;
      margin-top: -12px;
      /* å¾®è°ƒä¸‰è§’å½¢ä½ç½® */
      z-index: 1003;
    }

    /* æ˜¾ç¤ºæç¤ºæ¡†çš„è§¦å‘æ¡ä»¶ä¿æŒä¸å˜ */
    .close-btn[data-tooltip]:hover::after,
    .close-btn[data-tooltip]:hover::before {
      opacity: 1;
      visibility: visible;
    }

    /* æ·»åŠ æ–°çš„æç¤ºæ¡†æ ·å¼ */
    .scroll-hint {
      position: fixed;
      /* æ”¹ä¸º fixed å®šä½ */
      bottom: 110px;
      /* è°ƒæ•´ä½ç½® */
      right: 0px;
      padding: 15px 25px;
      background: rgba(0, 0, 0, 0.8);
      border: 2px solid #03e9f4;
      border-radius: 15px;
      color: #03e9f4;
      font-family: 'KoseFont', Arial, sans-serif;
      /* æ·»åŠ å­—ä½“ */
      font-size: 1.2em;
      text-shadow: 0 0 10px rgba(3, 233, 244, 0.3);
      box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      animation: glow 2s ease-in-out infinite;
      backdrop-filter: blur(5px);
      z-index: 1002;
      /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
      pointer-events: none;
      /* é˜²æ­¢å¹²æ‰°ç‚¹å‡» */
    }

    @keyframes glow {

      0%,
      100% {
        box-shadow: 0 0 15px rgba(3, 233, 244, 0.3);
      }

      50% {
        box-shadow: 0 0 30px rgba(3, 233, 244, 0.5);
      }
    }
  </style>
  <!-- æ·»åŠ  CSP å¤´éƒ¨ -->
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline';">
</head>

<body>
  <!-- æ·»åŠ åˆ° body æ ‡ç­¾å†…ï¼Œåœ¨æ‰€æœ‰å†…å®¹ä¹‹å‰ -->
  <div class="festive-bg">
    <div class="moving-stripes"></div>
    <div class="floating-pattern"></div>
    <div class="light-overlay"></div>
  </div>

  <!-- çƒŸèŠ±åŠ¨ç”»éƒ¨åˆ† -->
  <div id="fireworkSection">
    <!-- åœ¨è¿™é‡Œæ·»åŠ æç¤ºæ¡† -->
    <div class="scroll-hint">åˆ«æ€¥ç€åˆ’èµ°ï¼Œè€å¤§ï¼ï¼å…ˆçœ‹å®ŒçƒŸèŠ±å–µï¼ï¼ï¼</div>

    <canvas id="fireworkCanvas"></canvas>
    <canvas class="canvas"></canvas>

    <!-- å°†æ‰€æœ‰å³ä¸Šè§’å†…å®¹æ”¾å…¥çƒŸèŠ±éƒ¨åˆ† -->
    <div class="corner-content">
      <div class="daimao-text">
        <div>æ²¡é”™ï¼Œè€å¤§ï¼Œæˆ‘å°±æ˜¯å‘†çŒ«ï¼</div>
        <div>æ—è¾¹æœ‰ä¸€æ®µæ¥è‡ªå‘†çŒ«çš„ç¥ç¦ï¼ï¼</div>
        <div>å¿«æ¥å¬ä¸€å¬å–µï¼ï¼ï¼</div>
      </div>
      <div class="media-container">
        <img src="images/daimao2.png" alt="Daimao" class="daimao-image daimao2-animate">
        <img src="images/daimao4.png" alt="Daimao4" class="daimao-image daimao4-animate">
        <div class="music-player">
          <img src="images/cartoon-music-player.png" alt="Music Player" class="player-image" id="playPauseButton">
          <p class="player-text">ç‚¹è¿™é‡Œæ’­æ”¾/æš‚åœæ¥è‡ªå‘†çŒ«çš„ç¥ç¦å–µï¼ğŸµ</p>
          <audio id="audioPlayer" src="audio/zhufu.mp3" preload="auto"></audio>
        </div>
      </div>
    </div>

    <!-- è·³è¿‡æŒ‰é’® -->
    <a href="javascript:;" class="aki-btn" onclick="skipAnimation()">
      <span>ç‚¹å‡»è¿™é‡Œå°±å¯ä»¥å‰å¾€ä¸»é¡µé¢äº†å–µï¼</span>
    </a>
  </div>

  <!-- æ·»åŠ åˆ° body æ ‡ç­¾å†…ï¼Œåœ¨å†…å®¹ä¹‹å‰ -->
  <div class="decorations">
    <!-- å·¦è¾¹æ˜¥è” -->
    <div class="couplet" style="left: 20px; top: 50%; transform: translateY(-50%);">
      æ–°æ˜¥å¿«ä¹ç¦æ»¡é—¨
    </div>

    <!-- å³è¾¹æ˜¥è” -->
    <div class="couplet" style="right: 20px; top: 50%; transform: translateY(-50%);">
      ä¸‡äº‹å¦‚æ„å¹´å¹´å¥½
    </div>

    <!-- å·¦ä¸Šè§’ç¯ç¬¼ -->
    <div class="lantern" style="left: 100px; top: 30px;"></div>

    <!-- å³ä¸Šè§’ç¯ç¬¼ -->
    <div class="lantern" style="right: 100px; top: 30px;"></div>

    <!-- æ·»åŠ ä¸€äº›æ˜Ÿæ˜Ÿè£…é¥° -->
    <div class="star" style="top: 15%; left: 25%;"></div>
    <div class="star" style="top: 25%; right: 30%;"></div>
    <div class="star" style="top: 45%; left: 15%;"></div>
    <div class="star" style="top: 65%; right: 20%;"></div>
    <div class="star" style="top: 75%; left: 35%;"></div>
  </div>

  <!-- åœ¨ body æ ‡ç­¾å†…,ä¸»å†…å®¹ä¹‹å‰æ·»åŠ æŒ‰é’®å®¹å™¨ -->
  <div class="side-buttons-container">
    <!-- å·¦ä¾§æŒ‰é’®ç»„ -->
    <div class="left-buttons">
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm1.mp4"
        data-audio="audio/daimao.mp3">è·³å•¦å•¦æ“çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm2.mp4"
        data-audio="audio/rixi.mp3">è·Ÿç€è€å¤§æ‰“çŒçš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm3.mp4"
        data-audio="audio/hange.mp3">åšå••å¤§å“­çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm4.mp4"
        data-audio="audio/qinghuaci.mp3">æ™•èˆ¹çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm5.mp4" data-audio="audio/DJ.mp3">çº¢æ¸©çš„å°å°è€å­</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm6.mp4"
        data-audio="audio/jiefu.mp3">ç»™è€å¤§ç§æœå®çš„å°å°å‘†çŒ«</a>
    </div>

    <!-- å³ä¾§æŒ‰é’®ç»„ -->
    <div class="right-buttons">
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm7.mp4"
        data-audio="audio/dianyin.mp3">è¢«æ´¾é£çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm8.mp4"
        data-audio="audio/chunjie.mp3">æ‰“é¼“çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm9.mp4"
        data-audio="audio/hajimi.mp3">è›„è›¹çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm10.mp4"
        data-audio="audio/shengdan.mp3">æ‹æ‰‹çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm11.mp4"
        data-audio="audio/haha.mp3">è¸¢æ–¹æ­¥çš„å°å°å‘†çŒ«</a>
      <a href="javascript:;" class="aki-btn side-btn" data-video="videos/dm12.mp4"
        data-audio="audio/beiliya.mp3">è‹¥æœ‰æ‰€æ€çš„å°å°å‘†çŒ«</a>
    </div>
  </div>

  <!-- æ·»åŠ è§†é¢‘æ’­æ”¾å¼¹çª— -->
  <div id="videoModal" class="video-modal">
    <div class="video-container">
      <video id="videoPlayer" loop>
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
      </video>

      <!-- å°†å…³é—­æŒ‰é’®ç§»åˆ°è¿™é‡Œ -->
      <button class="close-btn">Ã—</button>

      <div class="video-controls">
        <div class="progress-bar">
          <div class="progress-filled"></div>
        </div>
        <div class="controls-main">
          <div class="controls-left">
            <button class="play-btn control-btn" data-tooltip="æ’­æ”¾">
              <i class="play-icon">â–¶</i>
            </button>
            <div class="volume-container">
              <button class="mute-btn control-btn" data-tooltip="éŸ³é‡ï¼š100%">
                <i class="volume-icon">ğŸ”Š</i>
              </button>
              <div class="volume-slider">
                <div class="volume-filled"></div>
              </div>
            </div>
            <div class="time-display">
              <span class="current-time">0:00</span>
              <span>/</span>
              <span class="total-time">0:00</span>
            </div>
          </div>
          <div class="controls-right">
            <button class="loop-btn control-btn" data-tooltip="å¾ªç¯æ’­æ”¾ï¼šå…³é—­">ğŸ”</button>
            <button class="save-btn control-btn" data-tooltip="ä¿å­˜è§†é¢‘">ğŸ’¾</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- æ·»åŠ è§†é¢‘æ§åˆ¶è„šæœ¬ -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const modal = document.getElementById('videoModal');
      const video = document.getElementById('videoPlayer');
      const progressBar = document.querySelector('.progress-bar');
      const progressFilled = document.querySelector('.progress-filled');
      const playBtn = document.querySelector('.play-btn');
      const playIcon = document.querySelector('.play-icon');
      const muteBtn = document.querySelector('.mute-btn');
      const volumeIcon = document.querySelector('.volume-icon');
      const volumeSlider = document.querySelector('.volume-slider');
      const volumeFilled = document.querySelector('.volume-filled');
      const currentTimeSpan = document.querySelector('.current-time');
      const totalTimeSpan = document.querySelector('.total-time');
      const loopBtn = document.querySelector('.loop-btn');
      const saveBtn = document.querySelector('.save-btn');
      const closeBtn = document.querySelector('.close-btn');

      // æ’­æ”¾/æš‚åœæ§åˆ¶
      playBtn.addEventListener('click', togglePlay);
      video.addEventListener('click', togglePlay);

      function togglePlay() {
        if (video.paused) {
          video.play();
          playIcon.textContent = 'â¸';
        } else {
          video.pause();
          playIcon.textContent = 'â–¶';
        }
      }

      // è¿›åº¦æ¡æ§åˆ¶
      video.addEventListener('timeupdate', () => {
        const percent = (video.currentTime / video.duration) * 100;
        progressFilled.style.width = `${percent}%`;
        currentTimeSpan.textContent = formatTime(video.currentTime);
      });

      video.addEventListener('loadedmetadata', () => {
        totalTimeSpan.textContent = formatTime(video.duration);
      });

      progressBar.addEventListener('click', (e) => {
        const rect = progressBar.getBoundingClientRect();
        const pos = (e.clientX - rect.left) / progressBar.offsetWidth;
        video.currentTime = pos * video.duration;
      });

      // æ·»åŠ æ‹–åŠ¨åŠŸèƒ½
      let isDragging = false;

      progressBar.addEventListener('mousedown', () => {
        isDragging = true;
      });

      document.addEventListener('mousemove', (e) => {
        if (isDragging) {
          const rect = progressBar.getBoundingClientRect();
          const pos = Math.max(0, Math.min(1, (e.clientX - rect.left) / progressBar.offsetWidth));
          video.currentTime = pos * video.duration;
        }
      });

      document.addEventListener('mouseup', () => {
        isDragging = false;
      });

      // éŸ³é‡æ§åˆ¶
      muteBtn.addEventListener('click', () => {
        video.muted = !video.muted;
        volumeIcon.textContent = video.muted ? 'ğŸ”‡' : 'ğŸ”Š';
        volumeFilled.style.width = video.muted ? '0%' : `${video.volume * 100}%`;
      });

      volumeSlider.addEventListener('click', (e) => {
        const volume = e.offsetX / volumeSlider.offsetWidth;
        video.volume = volume;
        volumeFilled.style.width = `${volume * 100}%`;
        video.muted = false;
        volumeIcon.textContent = 'ğŸ”Š';
      });

      // å¾ªç¯æ’­æ”¾æ§åˆ¶
      loopBtn.addEventListener('click', () => {
        video.loop = !video.loop;
        loopBtn.style.color = video.loop ? '#03e9f4' : 'white';
      });

      // ä¿å­˜è§†é¢‘
      saveBtn.addEventListener('click', () => {
        const videoSrc = video.src;
        const link = document.createElement('a');
        link.href = videoSrc;
        link.download = videoSrc.split('/').pop();
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      });

      // å…³é—­è§†é¢‘
      closeBtn.addEventListener('click', closeVideo);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeVideo();
      });
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeVideo();
      });

      function closeVideo() {
        video.pause();
        video.currentTime = 0;
        modal.style.display = 'none';
      }

      // æ ¼å¼åŒ–æ—¶é—´
      function formatTime(seconds) {
        const minutes = Math.floor(seconds / 60);
        seconds = Math.floor(seconds % 60);
        return `${minutes}:${seconds.toString().padStart(2, '0')}`;
      }

      // æ›´æ–°ä¾§è¾¹æ æŒ‰é’®ç‚¹å‡»äº‹ä»¶
      const buttons = document.querySelectorAll('.side-btn');
      buttons.forEach(button => {
        button.addEventListener('click', function () {
          const videoSrc = this.getAttribute('data-video');
          video.src = videoSrc;
          modal.style.display = 'flex';
          video.play();
          playIcon.textContent = 'â¸';
        });
      });

      // æ’­æ”¾/æš‚åœæŒ‰é’®æç¤ºæ›´æ–°
      function updatePlayButtonTooltip() {
        playBtn.setAttribute('data-tooltip', video.paused ? 'æ’­æ”¾' : 'æš‚åœ');
      }

      // éŸ³é‡æŒ‰é’®æç¤ºæ›´æ–°
      function updateVolumeTooltip() {
        const volumePercent = Math.round(video.volume * 100);
        const muteStatus = video.muted ? 'å·²é™éŸ³' : `éŸ³é‡ï¼š${volumePercent}%`;
        muteBtn.setAttribute('data-tooltip', muteStatus);
      }

      // å¾ªç¯æŒ‰é’®æç¤ºæ›´æ–°
      function updateLoopTooltip() {
        loopBtn.setAttribute('data-tooltip', `å¾ªç¯æ’­æ”¾ï¼š${video.loop ? 'å¼€å¯' : 'å…³é—­'}`);
      }

      // æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
      video.addEventListener('play', updatePlayButtonTooltip);
      video.addEventListener('pause', updatePlayButtonTooltip);
      video.addEventListener('volumechange', updateVolumeTooltip);

      // æ›´æ–°å¾ªç¯æŒ‰é’®çŠ¶æ€
      loopBtn.addEventListener('click', () => {
        video.loop = !video.loop;
        loopBtn.style.color = video.loop ? '#03e9f4' : 'white';
        updateLoopTooltip();
      });

      // éŸ³é‡æ»‘å—äº‹ä»¶
      volumeSlider.addEventListener('input', (e) => {
        const volume = e.target.value / 100;
        video.volume = volume;
        video.muted = false;
        updateVolumeTooltip();
      });

      // é™éŸ³æŒ‰é’®äº‹ä»¶
      muteBtn.addEventListener('click', () => {
        video.muted = !video.muted;
        volumeIcon.textContent = video.muted ? 'ğŸ”‡' : 'ğŸ”Š';
        updateVolumeTooltip();
      });

      // åˆå§‹åŒ–æç¤ºæ–‡å­—
      updatePlayButtonTooltip();
      updateVolumeTooltip();
      updateLoopTooltip();
    });
  </script>

  <!-- ä¸»å†…å®¹åŒºåŸŸ -->
  <div id="mainContent" class="scroll-content">
    <!-- æ·»åŠ ç²’å­ç”»å¸ƒå’Œæ—‹è½¬å›¾ç‰‡åˆ°ä¸»å†…å®¹åŒºåŸŸ -->
    <canvas id="particleCanvas"></canvas>
    <img id="rotating-image" src="images/daimao1.png" alt="Rotating Image">

    <h1>å‘†çŒ«ç¥è€å¤§ä»¬æ–°å¹´å¿«ä¹å–µï¼ï¼ï¼(ã¥ï¿£ 3ï¿£)ã¥</h1>
    <h1>ï¼ˆæŒ‰ä¸‹ä¸¤ä¾§çš„æŒ‰é’®å¯ä»¥çœ‹è§å‘†çŒ«çš„è¡¨æƒ…åŒ…ï¼ï¼ï¼ã€è™½ç„¶å¾ˆç³Šã€‘ï¼‰</h1>
    <div class="section">
      <div class="title-group">
        <div class="intro-container">
          <div class="intro-title">
            <span class="title-text">å‘†çŒ«ã®è‡ªæˆ‘ä»‹ç»</span>
            <div class="intro-image">
              <img src="images/daimaojieshao.png" alt="å‘†çŒ«ä»‹ç»">
            </div>
          </div>
        </div>

        <div class="weapon-container">
          <div class="weapon-title">
            <span class="title-text">è€å¤§ã®åå››æŠŠæ­¦å™¨</span>
            <div class="weapon-list">
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/caochonggun.png" alt="æ“è™«æ£" class="weapon-icon">
                  <span>æ“è™«æ£</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/caochonggun.png" alt="æ“è™«æ£é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/taidao.png" alt="å¤ªåˆ€" class="weapon-icon">
                  <span>å¤ªåˆ€</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/taidao.png" alt="å¤ªåˆ€é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/dajian.png" alt="å¤§å‰‘" class="weapon-icon">
                  <span>å¤§å‰‘</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/dajian.png" alt="å¤§å‰‘é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/dachui.png" alt="å¤§é”¤" class="weapon-icon">
                  <span>å¤§é”¤</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/dachui.png" alt="å¤§é”¤é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/shuangdao.png" alt="åŒåˆ€" class="weapon-icon">
                  <span>åŒåˆ€</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/shuangdao.png" alt="åŒåˆ€é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/zhanfu.png" alt="æ–©æ–§" class="weapon-icon">
                  <span>æ–©æ–§</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/zhanfu.png" alt="æ–©æ–§é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/dunfu.png" alt="ç›¾æ–§" class="weapon-icon">
                  <span>ç›¾æ–§</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/dunfu.png" alt="ç›¾æ–§é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/zhongnu.png" alt="é‡å¼©" class="weapon-icon">
                  <span>é‡å¼©</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/zhongnu.png" alt="é‡å¼©é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/qingnu.png" alt="è½»å¼©" class="weapon-icon">
                  <span>è½»å¼©</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/qingnu.png" alt="è½»å¼©é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/gongjian.png" alt="å¼“ç®­" class="weapon-icon">
                  <span>å¼“ç®­</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/gongjian.png" alt="å¼“ç®­é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/changqiang.png" alt="é•¿æª" class="weapon-icon">
                  <span>é•¿æª</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/changqiang.png" alt="é•¿æªé¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/tongqiang.png" alt="ç»Ÿæª" class="weapon-icon">
                  <span>ç»Ÿæª</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/tongqiang.png" alt="ç»Ÿæªé¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/pianshoujian.png" alt="ç‰‡æ‰‹å‰‘" class="weapon-icon">
                  <span>ç‰‡æ‰‹å‰‘</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/pianshoujian.png" alt="ç‰‡æ‰‹å‰‘é¢„è§ˆ" class="preview-image">
                </div>
              </div>
              <div class="weapon-item">
                <div class="weapon-content">
                  <img src="images/shouliedi.png" alt="ç‹©çŒç¬›" class="weapon-icon">
                  <span>ç‹©çŒç¬›</span>
                </div>
                <div class="weapon-preview">
                  <img src="images/shouliedi.png" alt="ç‹©çŒç¬›é¢„è§ˆ" class="preview-image">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="quote">
        <div class="intro-container">
          <p class="intro-text">
            æ„¿æ–°å¹´çš„é˜³å…‰æ¸©æš–è€å¤§çš„æ¯ä¸€ä¸ªæ—¥å­ï¼Œè®©æ¯ä¸€å¤©éƒ½å……æ»¡å¸Œæœ›å’Œå–œæ‚¦å–µ~
          </p>
        </div>
      </div>
    </div>

    <div class="content-card">
      <h2>å‘†çŒ«å¯¹è€å¤§ã®æ–°å¹´å±•æœ›</h2>
      <ul class="wish-text">
        <li>å­¦ä¹ å¤©å¤©è¿›æ­¥ï¼Œå‰ç¨‹ä¼¼é”¦å–µï¼</li>
        <li>æ¸¸æˆæŠŠæŠŠè·èƒœï¼Œå¿ƒæƒ…èˆ’ç•…å–µï¼</li>
        <li>èº«ä½“åšå®šå€æ£’ï¼Œæ´»åŠ›å››å°„å–µï¼</li>
        <li>åœ¨æ ¡å›­è·‘çš„æŠ˜ç£¨ä¸‹å­˜æ´»ä¸‹æ¥å–µï¼</li>
      </ul>
    </div>

    <div class="content-card">
      <h2>å‘†çŒ«ã®æ–°å¹´å¯„è¯­</h2>
      <div class="wish-text">
        <p>äº²çˆ±çš„è€å¤§ä»¬ï¼š</p>
        <p>æ„¿ä½ ä»¬åœ¨æ–°çš„ä¸€å¹´é‡Œï¼š</p>
        <p>å†™ä»£ç æ—¶æ€è·¯æ¸…æ™°ï¼Œbugè¿œç¦»å–µ</p>
        <p>æ”¹éœ€æ±‚æ—¶å¿ƒå¹³æ°”å’Œï¼Œæ•ˆç‡é«˜åˆ†å–µ</p>
        <p>ä¸Šçº¿æ—¶ä¸€æ¬¡é€šè¿‡ï¼Œå¥½è¯„å¦‚æ½®å–µ</p>
      </div>
    </div>

    <div class="content-card">
      <h2>æ–°å¹´è¶£å‘³å°è´´å£«</h2>
      <p>å‘†çŒ«æé†’æ‚¨ï¼š</p>
      <ul class="tips-text">
        <li>ç†¬å¤œç ä»£ç è¦é€‚åº¦ï¼Œèº«ä½“æœ€é‡è¦å–µï¼</li>
        <li>é‡åˆ°é—®é¢˜å¤šæ€è€ƒï¼Œè§£å†³æ–¹æ¡ˆæ€»ä¼šæœ‰çš„å–µ</li>
        <li>æ¸¸æˆå¨±ä¹ä¸å¯å¤šï¼Œé™åº¦è¦æŠŠæ¡å–µ</li>
        <li>è®°å¾—å®šæœŸå¤‡ä»½ä»£ç ï¼Œä»¥é˜²ä¸‡ä¸€å–µ</li>
      </ul>
    </div>

    <div class="content-card">
      <h2>å‘†çŒ«ã®æ—¥å¸¸</h2>
      <p>æ¯å¤©éƒ½è¦ï¼š</p>
      <ul class="tips-text">
        <li>æŒ‰æ—¶åƒé¥­ï¼Œè¥å…»å‡è¡¡å–µ</li>
        <li>é€‚åº¦æ¸¸æˆï¼Œå¿«ä¹æ‰“çŒå–µ</li>
        <li>åŠ³é€¸ç»“åˆï¼Œé€‚å½“å­¦ä¹ å–µ</li>
        <li>ä¿æŒå¾®ç¬‘ï¼Œå¿ƒæƒ…æ„‰å¿«å–µ</li>
      </ul>
    </div>
  </div>

  <!-- åœ¨ body æ ‡ç­¾ç»“æŸå‰æ·»åŠ  -->
  <div class="bottom-buttons">
    <div class="game-button-container">
      <a href="game.html" class="game-link">
        <div class="game-button-content">
          <span class="game-button-text">
            <span class="main-text">å‘†çŒ«ã®æ–°æ˜¥å°æ¸¸æˆ</span>
            <span class="sub-text">ç‚¹å‡»è¿›å…¥æ¸¸æˆå–µ~</span>
          </span>
        </div>
      </a>
    </div>

    <div class="github-container">
      <a href="https://github.com/Singularity-Ye/daimao_Aibo/" target="_blank" class="github-link">
        <div class="github-content">
          <i class="github-icon">
            <svg height="32" viewBox="0 0 16 16" width="32">
              <path fill="#03e9f4"
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
              </path>
            </svg>
          </i>
          <div class="github-text">
            <span class="main-text">æŸ¥çœ‹æºä»£ç </span>
            <span class="sub-text">æ¬¢è¿è®¿é—®å‘†çŒ«ã® GitHub ä»“åº“å–µï¼</span>
          </div>
        </div>
      </a>
    </div>
  </div>

  <!-- å…ˆå¼•å…¥å…±äº«æ–‡ä»¶ -->
  <script src="js/common.js"></script>
  <script src="js/particle.js"></script>
  <script src="js/rotating.js"></script>
  <script src="js/firework.js"></script>
  <script src="js/index.js"></script>

  <script>
    // ä¿®æ”¹è·³è¿‡åŠ¨ç”»å‡½æ•°
    function skipAnimation() {
      const fireworkSection = document.getElementById('fireworkSection');
      const mainContent = document.getElementById('mainContent');
      const sideButtons = document.querySelector('.side-buttons-container');
      const audioPlayer = document.getElementById('audioPlayer');
      const playPauseButton = document.getElementById('playPauseButton');

      if (fireworkSection && mainContent) {
        fireworkSection.classList.add('hidden');

        if (audioPlayer) {
          audioPlayer.pause();
          audioPlayer.currentTime = 0;
          playPauseButton.classList.remove('playing');
          const currentRotation = getComputedRotation(playPauseButton);
          playPauseButton.style.setProperty('--rotation', `${currentRotation}deg`);
        }

        setTimeout(() => {
          fireworkSection.style.display = 'none';
          mainContent.style.display = 'block';
          mainContent.classList.add('visible');

          if (sideButtons) {
            sideButtons.style.display = 'block';
            setTimeout(() => {
              sideButtons.style.opacity = '1';
            }, 50);
          }

          const canvas = document.getElementById('particleCanvas');
          if (canvas) {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            if (typeof initParticles === 'function') {
              initParticles();
            }
          }

          // åˆå§‹åŒ–æ—‹è½¬å›¾ç‰‡
          if (typeof initRotation === 'function') {
            initRotation();
          }

          // è§¦å‘é‡æ’ä»¥ç¡®ä¿æ»šåŠ¨æ­£å¸¸å·¥ä½œ
          window.dispatchEvent(new Event('resize'));
        }, 1000);
      }
    }

    // é¡µé¢åŠ è½½å®Œæˆåè®¾ç½®éŸ³é¢‘æ§åˆ¶
    window.addEventListener('load', function () {
      // åˆå§‹åŒ–æ‰€æœ‰æ’­æ”¾å™¨æŒ‰é’®çš„æ—‹è½¬è§’åº¦
      document.querySelectorAll('.player-image').forEach(button => {
        button.style.setProperty('--rotation', '0deg');
      });

      // è®¾ç½®éŸ³é¢‘æ§åˆ¶
      const fireworkAudioPlayer = document.getElementById('audioPlayer');
      const fireworkPlayPauseButton = document.getElementById('playPauseButton');

      if (fireworkAudioPlayer && fireworkPlayPauseButton) {
        setupAudioControl(fireworkAudioPlayer, fireworkPlayPauseButton);
      }

      const mainAudioPlayers = document.querySelectorAll('.music-player-item audio');
      const mainPlayPauseButtons = document.querySelectorAll('.music-player-item .player-image');

      mainPlayPauseButtons.forEach((button, index) => {
        if (mainAudioPlayers[index]) {
          setupAudioControl(mainAudioPlayers[index], button);
        }
      });
    });

    // ä¿®æ”¹éŸ³é¢‘æ§åˆ¶è®¾ç½®å‡½æ•°
    function setupAudioControl(audio, button) {
      if (!audio || !button) {
        console.warn('éŸ³é¢‘æˆ–æŒ‰é’®å…ƒç´ ä¸å­˜åœ¨');
        return;
      }

      // æ·»åŠ éŸ³é¢‘åŠ è½½é”™è¯¯å¤„ç†
      audio.addEventListener('error', (e) => {
        console.error('éŸ³é¢‘åŠ è½½å¤±è´¥:', e);
        button.classList.remove('playing');
      });

      // åˆå§‹åŒ–æ—‹è½¬è§’åº¦
      button.style.setProperty('--rotation', '0deg');

      button.addEventListener('click', function () {
        // æš‚åœæ‰€æœ‰å…¶ä»–éŸ³é¢‘
        document.querySelectorAll('audio').forEach(otherAudio => {
          if (otherAudio !== audio && !otherAudio.paused) {
            otherAudio.pause();
            const otherButton = otherAudio.closest('.music-player-item')?.querySelector('.player-image') ||
              document.getElementById('playPauseButton');
            if (otherButton) {
              otherButton.classList.remove('playing');
              // ä¿å­˜å½“å‰æ—‹è½¬è§’åº¦
              const currentRotation = getComputedRotation(otherButton);
              otherButton.style.setProperty('--rotation', `${currentRotation}deg`);
            }
          }
        });

        if (audio.paused) {
          audio.play().then(() => {
            // è·å–å½“å‰çš„æ—‹è½¬è§’åº¦ä½œä¸ºèµ·å§‹ç‚¹
            const currentRotation = getComputedRotation(button);
            button.style.setProperty('--rotation', `${currentRotation}deg`);
            button.classList.add('playing');
          }).catch(error => {
            console.error('æ’­æ”¾å¤±è´¥:', error);
          });
        } else {
          audio.pause();
          button.classList.remove('playing');
          // è®¡ç®—å¹¶ä¿å­˜å½“å‰çš„æ—‹è½¬è§’åº¦
          const currentRotation = getComputedRotation(button);
          button.style.setProperty('--rotation', `${currentRotation}deg`);
        }
      });

      audio.addEventListener('ended', function () {
        button.classList.remove('playing');
        // è®¡ç®—å¹¶ä¿å­˜å½“å‰çš„æ—‹è½¬è§’åº¦
        const currentRotation = getComputedRotation(button);
        button.style.setProperty('--rotation', `${currentRotation}deg`);
      });
    }

    // è·å–å½“å‰æ—‹è½¬è§’åº¦çš„å‡½æ•°
    function getComputedRotation(element) {
      const style = window.getComputedStyle(element);
      const transform = style.transform;

      if (transform === 'none') {
        return 0;
      }

      const values = transform.split('(')[1].split(')')[0].split(',');
      const a = values[0];
      const b = values[1];
      let angle = Math.round(Math.atan2(b, a) * (180 / Math.PI));

      if (angle < 0) {
        angle += 360;
      }

      return angle;
    }

    // ç¡®ä¿DOMåŠ è½½å®Œæˆåå†åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function () {
      console.log('DOM loaded, initializing audio players...'); // DOMåŠ è½½å®Œæˆçš„æ—¥å¿—
      setupAudioPlayers();
    });

    // æ·»åŠ é”™è¯¯å¤„ç†
    window.addEventListener('error', function (e) {
      console.log('Audio error:', e.error);
    }, true);

    document.addEventListener('DOMContentLoaded', function () {
      const daimao2 = document.querySelector('.daimao2-animate');
      const daimao4 = document.querySelector('.daimao4-animate');
      let interactionTimeout;

      function handleMouseEnter(target, other) {
        target.classList.remove('daimao-interact');
        target.classList.add('daimao-hover');

        // å½“ä¸€ä¸ªå›¾ç‰‡è¢«æ‚¬åœæ—¶ï¼Œå¦ä¸€ä¸ªå›¾ç‰‡ä¼šæœ‰ååº”
        other.style.transform = `translateX(${target === daimao2 ? '-20px' : '20px'})`;
      }

      function handleMouseLeave(target, other) {
        target.classList.remove('daimao-hover');
        other.style.transform = '';

        // æ·»åŠ ä¸€ä¸ªçŸ­æš‚çš„å¼€å¿ƒåŠ¨ç”»
        target.classList.add('daimao-interact');
        setTimeout(() => {
          target.classList.remove('daimao-interact');
        }, 500);
      }

      function handleClick(target, other) {
        // æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨
        clearTimeout(interactionTimeout);

        // ä¸¤ä¸ªå›¾ç‰‡éƒ½æ’­æ”¾å¼€å¿ƒåŠ¨ç”»
        target.classList.add('daimao-interact');
        other.classList.add('daimao-interact');

        // 500msåæ¢å¤åŸçŠ¶
        interactionTimeout = setTimeout(() => {
          target.classList.remove('daimao-interact');
          other.classList.remove('daimao-interact');
        }, 500);
      }

      // ä¸ºä¸¤ä¸ªå›¾ç‰‡æ·»åŠ äº‹ä»¶ç›‘å¬
      daimao2.addEventListener('mouseenter', () => handleMouseEnter(daimao2, daimao4));
      daimao2.addEventListener('mouseleave', () => handleMouseLeave(daimao2, daimao4));
      daimao2.addEventListener('click', () => handleClick(daimao2, daimao4));

      daimao4.addEventListener('mouseenter', () => handleMouseEnter(daimao4, daimao2));
      daimao4.addEventListener('mouseleave', () => handleMouseLeave(daimao4, daimao2));
      daimao4.addEventListener('click', () => handleClick(daimao4, daimao2));
    });

    document.addEventListener('DOMContentLoaded', function () {
      const modal = document.getElementById('videoModal');
      const videoPlayer = document.getElementById('videoPlayer');
      const closeBtn = document.querySelector('.close-btn');
      const buttons = document.querySelectorAll('.side-btn');

      // ç‚¹å‡»æŒ‰é’®æ’­æ”¾è§†é¢‘
      buttons.forEach(button => {
        button.addEventListener('click', function () {
          const videoSrc = this.getAttribute('data-video');
          videoPlayer.src = videoSrc;
          modal.style.display = 'flex';
          videoPlayer.play();
        });
      });

      // å…³é—­è§†é¢‘
      closeBtn.addEventListener('click', function () {
        videoPlayer.pause();
        videoPlayer.currentTime = 0;
        modal.style.display = 'none';
      });

      // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­è§†é¢‘
      modal.addEventListener('click', function (e) {
        if (e.target === modal) {
          videoPlayer.pause();
          videoPlayer.currentTime = 0;
          modal.style.display = 'none';
        }
      });

      // ESCé”®å…³é—­è§†é¢‘
      document.addEventListener('keydown', function (e) {
        if (e.key === 'Escape' && modal.style.display === 'flex') {
          videoPlayer.pause();
          videoPlayer.currentTime = 0;
          modal.style.display = 'none';
        }
      });
    });

    document.addEventListener('DOMContentLoaded', function () {
      const video = document.getElementById('videoPlayer');
      const audioPlayer = new Audio();
      const modal = document.getElementById('videoModal');
      const muteBtn = document.querySelector('.mute-btn');
      const volumeIcon = document.querySelector('.volume-icon');
      const volumeSlider = document.querySelector('.volume-slider');
      const volumeFilled = document.querySelector('.volume-filled');
      const loopBtn = document.querySelector('.loop-btn');
      let lastVolume = 1;
      let isLooping = true; // é»˜è®¤è®¾ç½®ä¸º true

      // æ›´æ–°éŸ³é‡æ˜¾ç¤º
      function updateVolumeDisplay(volume) {
        volumeFilled.style.width = `${volume * 100}%`;
        if (volume === 0 || (video.muted && audioPlayer.muted)) {
          volumeFilled.style.background = 'rgba(255, 215, 0, 0.2)';
        } else {
          volumeFilled.style.background = '#FFD700';
        }
      }

      // æ›´æ–°éŸ³é‡å›¾æ ‡å’Œæç¤ºæ–‡å­—
      function updateVolumeIconAndTooltip() {
        const volumePercent = Math.round(video.volume * 100);
        if ((video.muted && audioPlayer.muted) || volumePercent === 0) {
          volumeIcon.textContent = 'ğŸ”‡';
          muteBtn.setAttribute('data-tooltip', 'å·²é™éŸ³');
          updateVolumeDisplay(0);
        } else if (volumePercent <= 33) {
          volumeIcon.textContent = 'ğŸ”ˆ';
          muteBtn.setAttribute('data-tooltip', `éŸ³é‡ï¼š${volumePercent}%`);
          updateVolumeDisplay(video.volume);
        } else if (volumePercent <= 66) {
          volumeIcon.textContent = 'ğŸ”‰';
          muteBtn.setAttribute('data-tooltip', `éŸ³é‡ï¼š${volumePercent}%`);
          updateVolumeDisplay(video.volume);
        } else {
          volumeIcon.textContent = 'ğŸ”Š';
          muteBtn.setAttribute('data-tooltip', `éŸ³é‡ï¼š${volumePercent}%`);
          updateVolumeDisplay(video.volume);
        }
      }

      // éŸ³é‡æ§åˆ¶å‡½æ•°
      function updateVolume(value) {
        const volume = Math.max(0, Math.min(1, value));

        // åŒæ—¶æ›´æ–°è§†é¢‘å’ŒéŸ³é¢‘çš„éŸ³é‡
        video.volume = volume;
        audioPlayer.volume = volume;

        // å¦‚æœéŸ³é‡å¤§äº0ï¼Œå–æ¶ˆé™éŸ³çŠ¶æ€
        if (volume > 0) {
          video.muted = false;
          audioPlayer.muted = false;
        }

        updateVolumeDisplay(volume);
        updateVolumeIconAndTooltip();
      }

      // é™éŸ³æŒ‰é’®ç‚¹å‡»äº‹ä»¶
      muteBtn.addEventListener('click', () => {
        if (video.muted && audioPlayer.muted) {
          // å–æ¶ˆé™éŸ³
          video.muted = false;
          audioPlayer.muted = false;
          const volumeToRestore = lastVolume > 0 ? lastVolume : 1;
          updateVolume(volumeToRestore);
        } else {
          // é™éŸ³
          lastVolume = video.volume;
          video.muted = true;
          audioPlayer.muted = true;
          updateVolumeDisplay(0);
          updateVolumeIconAndTooltip();
        }
      });

      // éŸ³é‡æ»‘å—ç‚¹å‡»äº‹ä»¶
      volumeSlider.addEventListener('click', (e) => {
        const rect = volumeSlider.getBoundingClientRect();
        const volume = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
        updateVolume(volume);
      });

      // éŸ³é‡æ»‘å—æ‹–åŠ¨åŠŸèƒ½
      let isVolumeDragging = false;

      volumeSlider.addEventListener('mousedown', (e) => {
        isVolumeDragging = true;
        // é˜²æ­¢é€‰ä¸­æ–‡æœ¬
        e.preventDefault();

        const rect = volumeSlider.getBoundingClientRect();
        const volume = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
        updateVolume(volume);
      });

      document.addEventListener('mousemove', (e) => {
        if (isVolumeDragging) {
          const rect = volumeSlider.getBoundingClientRect();
          const volume = Math.max(0, Math.min(1, (e.clientX - rect.left) / rect.width));
          updateVolume(volume);
        }
      });

      document.addEventListener('mouseup', () => {
        isVolumeDragging = false;
      });

      // ç›‘å¬è§†é¢‘éŸ³é‡å˜åŒ–
      video.addEventListener('volumechange', () => {
        if (!video.muted && video.volume > 0) {
          lastVolume = video.volume;
        }
        // åŒæ­¥éŸ³é¢‘éŸ³é‡
        audioPlayer.volume = video.volume;
        audioPlayer.muted = video.muted;
        updateVolumeIconAndTooltip();
      });

      // ä¿®æ”¹ setVideoAndPlay å‡½æ•°
      function setVideoAndPlay(videoSrc, audioSrc) {
        video.src = videoSrc;
        audioPlayer.src = audioSrc;
        modal.style.display = 'flex';

        // é»˜è®¤å¯ç”¨å¾ªç¯æ’­æ”¾
        isLooping = true;
        video.loop = true;
        audioPlayer.loop = true;
        loopBtn.style.color = '#03e9f4';
        loopBtn.setAttribute('data-tooltip', 'å¾ªç¯æ’­æ”¾ï¼šå¼€å¯');

        // ç¡®ä¿éŸ³é¢‘å’Œè§†é¢‘éƒ½åŠ è½½å®Œæˆåå†æ’­æ”¾
        Promise.all([
          new Promise(resolve => {
            video.onloadeddata = resolve;
            video.load();
          }),
          new Promise(resolve => {
            audioPlayer.onloadeddata = resolve;
            audioPlayer.load();
          })
        ]).then(() => {
          // è®¾ç½®åˆå§‹éŸ³é‡
          audioPlayer.volume = video.volume;
          audioPlayer.muted = video.muted;

          // ç§»é™¤ä¹‹å‰å¯èƒ½å­˜åœ¨çš„äº‹ä»¶ç›‘å¬å™¨
          video.onended = null;

          // æ·»åŠ è§†é¢‘ç»“æŸäº‹ä»¶ç›‘å¬å™¨
          video.addEventListener('ended', () => {
            if (isLooping) {
              // åªé‡æ–°æ’­æ”¾è§†é¢‘ï¼Œä¸å½±å“éŸ³é¢‘
              video.currentTime = 0;
              video.play().catch(console.error);
            }
          });

          // æ·»åŠ éŸ³é¢‘ç»“æŸäº‹ä»¶ç›‘å¬å™¨
          audioPlayer.addEventListener('ended', () => {
            if (isLooping) {
              // åªé‡æ–°æ’­æ”¾éŸ³é¢‘
              audioPlayer.currentTime = 0;
              audioPlayer.play().catch(console.error);
            }
          });

          // åˆå§‹æ’­æ”¾
          video.play().then(() => {
            audioPlayer.play().catch(console.error);
          }).catch(console.error);
        });
      }

      // åˆå§‹åŒ–éŸ³é‡æ˜¾ç¤º
      updateVolume(1);

      // åŒæ­¥æ’­æ”¾æ§åˆ¶
      function syncMediaControl() {
        video.addEventListener('play', () => {
          // åªåœ¨è§†é¢‘é¦–æ¬¡æ’­æ”¾æˆ–æ‰‹åŠ¨ç‚¹å‡»æ’­æ”¾æ—¶åŒæ­¥éŸ³é¢‘
          if (audioPlayer.paused) {
            audioPlayer.play().catch(console.error);
          }
        });

        video.addEventListener('pause', () => {
          audioPlayer.pause();
        });

        video.addEventListener('seeking', () => {
          // ä¸å†åŒæ­¥éŸ³é¢‘æ—¶é—´
        });

        video.addEventListener('ratechange', () => {
          audioPlayer.playbackRate = video.playbackRate;
        });
      }

      // å¾ªç¯æ’­æ”¾æ§åˆ¶
      loopBtn.addEventListener('click', () => {
        isLooping = !isLooping;
        video.loop = isLooping;
        audioPlayer.loop = isLooping;
        loopBtn.style.color = isLooping ? '#03e9f4' : '#FFD700';
        loopBtn.setAttribute('data-tooltip', `å¾ªç¯æ’­æ”¾ï¼š${isLooping ? 'å¼€å¯' : 'å…³é—­'}`);
      });

      // å…³é—­è§†é¢‘æ—¶çš„å¤„ç†
      function closeVideo() {
        video.pause();
        audioPlayer.pause();
        audioPlayer.currentTime = 0;
        modal.style.display = 'none';
      }

      // å…³é—­æŒ‰é’®äº‹ä»¶
      document.querySelector('.close-btn').addEventListener('click', closeVideo);

      // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeVideo();
        }
      });

      // ESCé”®å…³é—­
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.style.display === 'flex') {
          closeVideo();
        }
      });

      // ä¸ºè§†é¢‘æŒ‰é’®æ·»åŠ ç‚¹å‡»äº‹ä»¶
      document.querySelectorAll('.side-btn').forEach(button => {
        button.addEventListener('click', function () {
          const videoSrc = this.getAttribute('data-video');
          const audioSrc = this.getAttribute('data-audio') || 'audio/daimao.mp3';
          setVideoAndPlay(videoSrc, audioSrc);
        });
      });

      // åˆå§‹åŒ–åŒæ­¥æ§åˆ¶
      syncMediaControl();

      // ... å…¶ä»–éŸ³é‡æ§åˆ¶ä»£ç ä¿æŒä¸å˜ ...
    });
  </script>
</body>

</html>
